<html>
<head>
<meta charset='utf-8'>
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ubuntu下配置tornado框架本地调试环境</title>
<style>
body, html {
	background: #1A1A1A;
	font-family: "Optima", "Courier New";
	color: #9EA8AF;
}

a {
	color: #dddddd;
	text-decoration: none;
	overflow:ellipsis;
}

p {
	color: #9EA8AF;
	font-size: 12pt;
	line-height: 25px;
}

hr {
	color: transparent;
	background: transparent;
	height: 1px;
	border: 1px solid #434343;
	border-right: none;
	border-left: none;
	padding: 0px;
}

.title {
	padding-top: 20px;
	font-weight: 200;
}

.date {
	color: #DEA465;
	position: absolute;
	margin-top: -9px;
	margin-left: 20px;
	background: #1A1A1A;
	padding-left: 8px;
	padding-right: 8px;
}

h1 {
	color: #ffffff;
	font-size: 15pt;
}

article {
	margin: 0 auto;
	max-width: 800px;
}

blockquote {
	margin-left: 10px;
	border-left: 3px solid #434343;
	padding-left: 8px;
}

blockquote p {
	color: #9EA8AC;
}

p code {
	padding-left: 2px;
	padding-right: 2px;
	padding: 2px;
	padding-bottom: 1px;
	background: #1e1e1e;
	color: #585858;
}

pre {
	margin-left: 8px;
	overflow-y: auto;
	overflow-x: none;
	background: #1e1e1e;
	padding: 8px;
}

.highlight pre{
	border: 1px solid #112933;
	background: #1D1D1D;
	background: #0D2129;
}
.highlight .k{color:#5f8700;} .p{color:#8a8a8a} .nb{color:#af8700}
.s {color:#00afaf} .c{color:#8a8a8a} .c1{color:#8a8a8a}
.kt{color:#af8700} .kd{color:#af8700}
 
.nt{color:#0087ff} .na{color:#af8700} .cp{color:#8a8a8a}
</style>
</head>

<body>
<article>
	<h1 class="title">ubuntu下配置tornado框架本地调试环境</h1>
	<div class="date">October 14, 2011</div>
	<hr />
	<p>这阵子花费了大概半个月做了一个M9平台的短信拦截软件，已经申请在魅族软件商城上架，今天魅族寄得合同今天已经收到，过几天再寄回去就能上架了。</p>

<p>最近又回到学python的行列，只不过接触的是网页编程，有高人指点确实少走了不少弯路。但依旧需要自己去一步一步摸索，这才是乐趣所在，哈哈</p>

<p>由于win下用python会出现诸多问题，很多提示找不到库，安装tornado会出现找不到库的情况，就只能转战ubuntu。python版本为2.6
现在需要做的是在虚拟机里面装上MYSQL，tornado，由于我电脑上已经配置好服务器环境，只要在虚拟机里面装好MySQLdb(连接MYSQL和Python的库)，远程连接我电脑上的MYSQL就行，如果你想在虚拟机里面也能看到结果，就要安装apache了，如果不需要，可以省略不装</p>

<div class="highlight"><pre>sudo apt-get install ssh
sudo apt-get install apache2
</pre></div>

<p>安装MYSQL</p>

<div class="highlight"><pre>sudo apt-get install mysql-server-5.0
</pre></div>

<p>然后到网上下载tornado，安装,PS:tornado的主页被墙，可以到这里<a href="http://www.tornadoweb.cn/">http://www.tornadoweb.cn/</a>
进入tornado的目录</p>

<div class="highlight"><pre>sudo python setup.py build
</pre></div>

<p>编译完成后执行安装</p>

<div class="highlight"><pre>sudo python setup.py install
</pre></div>

<p>然后解决连接MYSQL的问题，需要安装python-dev，setuptools</p>

<div class="highlight"><pre>sudo sudo apt-get install python-dev
</pre></div>

<p>到这里下载<a href="http://pypi.python.org/pypi/setuptools">setuptools</a>
下载好后进入那个目录，还是执行这两条</p>

<div class="highlight"><pre>sudo python setup.py build
sudo python setup.py install
</pre></div>

<p>由于通过apt-get方式下载到的mysql是不带mysql_config的，需要你去下载</p>

<div class="highlight"><pre>sudo apt-get install libmysqlclient-dev
</pre></div>

<p>准备工作到此结束，要开始安装<a href="http://sourceforge.net/projects/mysql-python/">MySQLdb</a>
找到site.cfg,添加一行</p>

<div class="highlight"><pre><span class="na">mysql_config</span> <span class="o">=</span> <span class="s">/usr/bin/mysql_config</span>
</pre></div>

<p>因为我的<code>mysql_config</code>是放在<code>/usr/bin/mysql_config</code>，所以指定这里，如果你不确定<code>mysql_config</code>，可以使用<code>whereis mysql_config</code>看在哪里
然后进入mysqldb的目录，</p>

<div class="highlight"><pre>sudo python setup.py install
</pre></div>

<p>一般到这里便结束了。
怎么调试？
官网上有一个helloworld,程序，复制下来，运行，你可以看到源文件上监听的是8888端口，如果你装了apache，可以在本地直接浏览器<code>127.0.0.1:8888</code>
如果没装，而且你的本机可以访问到虚拟机的地址，那就是那地址再加上端口号便可以<br>
tornado里面有一些demo，有个blog的demo可以测试mysql成功了没有，注意改里面的用户名和密码哦</p>
</article>
</body>

</html>
