<html>
<head>
<meta charset='utf-8'>
<link rel="alternate" type="application/rss+xml" href="/feed" />
<link rel="stylesheet" href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" />
<title>Mac下为MacVim添加文件类型(语法高亮) - 陈冶</title>
<style>
.gist-syntax{background:#ffffff}.gist-syntax .c{color:#999988;font-style:italic}.gist-syntax .err{color:#a61717;background-color:#e3d2d2}.gist-syntax .k{color:#000000;font-weight:bold}.gist-syntax .o{color:#000000;font-weight:bold}.gist-syntax .cm{color:#999988;font-style:italic}.gist-syntax .cp{color:#999999;font-weight:bold}.gist-syntax .c1{color:#999988;font-style:italic}.gist-syntax .cs{color:#999999;font-weight:bold;font-style:italic}.gist-syntax .gd{color:#000000;background-color:#ffdddd}.gist-syntax .gd .x{color:#000000;background-color:#ffaaaa}.gist-syntax .ge{color:#000000;font-style:italic}.gist-syntax .gr{color:#aa0000}.gist-syntax .gh{color:#999999}.gist-syntax .gi{color:#000000;background-color:#ddffdd}.gist-syntax .gi .x{color:#000000;background-color:#aaffaa}.gist-syntax .go{color:#888888}.gist-syntax .gp{color:#555555}.gist-syntax .gs{font-weight:bold}.gist-syntax .gu{color:#aaaaaa}.gist-syntax .gt{color:#aa0000}.gist-syntax .kc{color:#000000;font-weight:bold}.gist-syntax .kd{color:#000000;font-weight:bold}.gist-syntax .kp{color:#000000;font-weight:bold}.gist-syntax .kr{color:#000000;font-weight:bold}.gist-syntax .kt{color:#445588;font-weight:bold}.gist-syntax .m{color:#009999}.gist-syntax .s{color:#d14}.gist-syntax .na{color:#008080}.gist-syntax .nb{color:#0086B3}.gist-syntax .nc{color:#445588;font-weight:bold}.gist-syntax .no{color:#008080}.gist-syntax .ni{color:#800080}.gist-syntax .ne{color:#990000;font-weight:bold}.gist-syntax .nf{color:#990000;font-weight:bold}.gist-syntax .nn{color:#555555}.gist-syntax .nt{color:#000080}.gist-syntax .nv{color:#008080}.gist-syntax .ow{color:#000000;font-weight:bold}.gist-syntax .w{color:#bbbbbb}.gist-syntax .mf{color:#009999}.gist-syntax .mh{color:#009999}.gist-syntax .mi{color:#009999}.gist-syntax .mo{color:#009999}.gist-syntax .sb{color:#d14}.gist-syntax .sc{color:#d14}.gist-syntax .sd{color:#d14}.gist-syntax .s2{color:#d14}.gist-syntax .se{color:#d14}.gist-syntax .sh{color:#d14}.gist-syntax .si{color:#d14}.gist-syntax .sx{color:#d14}.gist-syntax .sr{color:#009926}.gist-syntax .s1{color:#d14}.gist-syntax .ss{color:#990073}.gist-syntax .bp{color:#999999}.gist-syntax .vc{color:#008080}.gist-syntax .vg{color:#008080}.gist-syntax .vi{color:#008080}.gist-syntax .il{color:#009999}
.small-text{
color: #000;
font-size: 12px;
}
.small-text:hover {
text-decoration: none;
}
.box {
padding: 3px;
background: rgb(238, 238, 238);
margin-top: 8px;
margin-left: 8px;
}
.box .box-inside {
background: #ffffff;
padding: 10px;
border: 1px solid rgb(204, 204, 204);
}
.box:hover {
background: rgb(216, 234, 242);
}
.box .box-inside:hover {
border: 1px solid rgb(151, 199, 221);
}
#comment-content {
padding-bottom: 20px;
}
</style>

<style>
* {
font-family: "Monaco", "Microsoft YaHei"
}
</style>
<script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>

</head>
<body id="top" style="padding: 40px; width: 660px; margin: 0 auto;">
<div class="btn-toolbar" style="position: fixed; margin:-30 10; z-index:2000">
<div class="btn-group">
<a class="btn" href="/article/andfree-startup/">
<i class="icon-arrow-left"></i></a>
<a class="btn" href="/article/product-and-project/">
<i class="icon-arrow-right"></i></a>
</div>

<div class="btn-group">
<a class="btn btn-info" href="/" >博客</a>
<a class="btn btn-inverse" href="https://github.com/chzyer">Github</a>
<a class="btn btn-danger" href="http://weibo.com/210106468">微博</a>
<a class="btn btn-warning" href="http://www.chenye.org/feed">RSS</a>
<a class="btn" href="http://andfree.chenye.org/">andfree</a>
</div>
<div class="btn-group">

<a class="btn " href="#top">Top</a>

<a class="btn " href="#comment">Comment</a>

</div>


</div>
<div class="gist-syntax">
<h2>
<a name="macmacvim" class="anchor" href="#macmacvim"><span class="mini-icon mini-icon-link"></span></a>Mac下为MacVim添加文件类型(语法高亮)</h2>

<hr><p>最近在看golang, 但是vim中还没有关于go的语法高亮, 本文将介绍如何在vim中新添加一种文件类型并自动语法高亮</p>

<blockquote>
<p>首先要确保打开了语法高亮, <code>:syntax enable</code></p>
</blockquote>

<h4>
<a name="go" class="anchor" href="#go"><span class="mini-icon mini-icon-link"></span></a>找到go语法高亮的文件</h4>

<p>go默认附带了vim的语法高亮文件, go默认是安装在了<code>/usr/local/go/</code>, 语法高亮文件藏在了<code>./misc/vim/syntax/go.vim</code></p>

<h4>
<a name="vim" class="anchor" href="#vim"><span class="mini-icon mini-icon-link"></span></a>将文件复制到vim的目录</h4>

<p>vim在mac默认的安装目录在<code>/usr/share/vim/vim73/</code>, 接下来将语法文件复制到vim目录下的<code>syntax</code>.可以看到这个目录里面有很多文件类型的<code>.vim</code>文件</p>

<h4>
<a name="" class="anchor" href="#"><span class="mini-icon mini-icon-link"></span></a>保存设置</h4>

<p>接下来vim并不会自动在打开go文件的时候就自动应用这个语法高亮, 因为他还不知道后缀名对应的文件类型.所以接下来在vim里面使用命令行执行:</p>

<div class="highlight"><pre><span class="p">:</span><span class="k">set</span> <span class="k">filetype</span><span class="p">=</span><span class="k">go</span>
</pre></div>

<h4>
<a name="-1" class="anchor" href="#-1"><span class="mini-icon mini-icon-link"></span></a>完成</h4>

<p>嗯, 按理说这样就完成了, 最下面再给一份脚本吧</p>

<p>shell</p>

<div class="highlight"><pre><span class="nv">$ </span>sudo cp /usr/local/go/misc/vim/syntax/go.vim /usr/share/vim/vim73/syntax/
</pre></div>

<p>vim</p>

<div class="highlight"><pre><span class="p">:</span><span class="nb">syntax</span> enable
<span class="p">:</span><span class="k">set</span> <span class="k">filetype</span><span class="p">=</span><span class="k">go</span>
</pre></div>
</div>
<hr>
<h2 id="comment">Comment</h2>
<div id="comment-content">评论加载中...</div>
<div id="comment-send">

<a href="https://github.com/login/oauth/authorize?client_id=8cf069a87d66a597b7da&scope=gist&redirect_uri=http://www.chenye.org/auth/github?redirect=/article/decorators-and-functional-python/" class="btn btn-primary" style="margin-bottom: 10px; float: right">登录Github评论</a>

<input type="submit" class="btn btn-primary" style="margin-bottom:10px; float:right; display: none" value="Post">
</div>
<div style="height:100px;"></div>
<script>
var default_avatar = 'https://i2.wp.com/a248.e.akamai.net/assets.github.com/images/gravatars/gravatar-user-420.png?ssl=1'
var box = function(user, name) {
	html = '<div style="margin-top: 10px;">'
	html += '<img class="img-rounded" rel="avatar-' + user['name'] + '" style="float:left; width: 48px; height: 48px;" src="' + default_avatar + '">'
	html += '<div style="float:left;margin-top: 0px;width: 575px" class="box"><div class="box-inside">'
	html += '<strong><a href="http://github.com/' + user['name'] + '">' + user['name'] + '</a></strong><br />'
	html += name
	html += '</div></div><div style="clear:both"></div></div>'
	return html
}

function comment(ret){
	data = ret.data
	$("#comment-content").html('')
	avatars = {}
	for (var i in data){
		user = {
			"avatar": data[i]['user']['avatar_url'],
			"name": data[i]['user']['login']
		}
		avatars[user['name']] = user['avatar']
		$("#comment-content").append(box(user, data[i]['body']))
	}
	for (var i in avatars){
		$.get(avatars[i], function(e){
			$("img[rel=avatar-" + i + "]").attr('src', avatars[i])
		})
	}
}
</script>
<script src="https://api.github.com/gists/4508459/comments?callback=comment"></script>

<script>


</script>
</body>
</html>
